---
import { Image } from "astro:assets";
import { markdown } from "@astropub/md";
interface Props {
    src: {
        src: string;
        width: number;
        height: number;
        format:
            | "png"
            | "jpg"
            | "jpeg"
            | "tiff"
            | "webp"
            | "gif"
            | "svg"
            | "avif";
    };
    alt: string;
    caption?: string;
}

const { src, alt, caption } = Astro.props;
---

<figure class="flex h-80 bg-gray-300 relative">
    <Image
        width={1200}
        height={800}
        decoding="async"
        loading="eager"
        layout="constrained"
        src={src}
        alt={alt}
        class="object-cover w-full"
    />
    {
        caption ? (
            <figcaption class="absolute bg-gray-900 px-3 py-1 text-white bottom-4 right-4 text-xs">
                {markdown(caption || "")}
            </figcaption>
        ) : null
    }
</figure>
