---
interface Props {
    currentPath?: string;
}

const { currentPath = "" } = Astro.props;

const menuItems = [
    { label: "Artikel", href: "/" },
    { label: "Utas", href: "/threads" },
    { label: "Tentang", href: "/about" },
];

const isActive = (href: string) => {
    if (href === "/") {
        // Active for: /, /2, /wordpress, /wordpress/2
        // Not active for: /threads, /about, /articles
        return (
            !currentPath.startsWith("/threads") &&
            !currentPath.startsWith("/about") &&
            !currentPath.startsWith("/articles")
        );
    }
    return currentPath.startsWith(href);
};
import { Image } from "astro:assets";
---

<header
    class="grid grid-cols-[1fr_min(40rem,100%)_1fr] border-b border-gray-300"
>
    <div class="col-start-2 grid grid-cols-2 gap-8 items-center px-4">
        <a href="/" class="flex items-center gap-2 justify-self-start">
            <div class="w-9 h-9 rounded-full">
                <img
                    src="/logo.svg"
                    alt="Logo"
                    class="w-full h-full rounded-full object-cover"
                />
            </div>
            <span class="font-bold text-lg">Diajar</span>
        </a>

        <nav class="flex justify-self-end">
            {
                menuItems.map((item) => (
                    <a
                        href={item.href}
                        class:list={[
                            "border-b-3 py-4 transition-colors min-w-[5rem] text-center",
                            isActive(item.href)
                                ? "border-black font-medium"
                                : "border-transparent",
                        ]}
                    >
                        {item.label}
                    </a>
                ))
            }
        </nav>
    </div>
</header>
