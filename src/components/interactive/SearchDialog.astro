---
interface Props {
    type: "articles" | "threads"; // Specify which search type
}

const { type } = Astro.props;
---

<div
    id="searchDialog"
    class="fixed inset-0 bg-black bg-opacity-50 z-100 hidden flex items-start justify-center pt-20"
    data-search-type={type}
>
    <div
        class="bg-white w-full max-w-2xl max-h-[80vh] z-50 rounded-lg shadow-2xl flex flex-col"
    >
        <!-- Header with close button -->
        <div
            class="flex items-center justify-between p-4 border-b border-gray-300"
        >
            <input
                type="text"
                id="searchInput"
                placeholder={type === "articles"
                    ? "Cari artikel..."
                    : "Cari utas"}
                class="flex-1 text-lg outline-none"
                autocomplete="off"
            />
            <button
                id="closeDialog"
                class="w-8 h-8 rounded-full bg-red-500 flex-shrink-0 ml-4"
                aria-label="Close"
            >
            </button>
        </div>

        <!-- Loading state -->
        <div id="loadingState" class="hidden p-8 text-center text-gray-600">
            Memuat...
        </div>

        <!-- Results container -->
        <div id="searchResults" class="flex-1 overflow-y-auto p-4">
            <!-- Results will be inserted here -->
        </div>

        <!-- Empty state -->
        <div id="emptyState" class="hidden p-8 text-center text-gray-600">
            <p class="text-lg">Tidak ada hasil ditemukan</p>
            <p class="text-sm mt-2">Coba kata kunci lain</p>
        </div>
    </div>
</div>
